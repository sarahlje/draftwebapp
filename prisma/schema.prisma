generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// Enums
enum Goal {
  strength
  cardio
  general_fitness
}

enum Experience {
  beginner
  intermediate
  advanced
}

enum Focus {
  chest
  back
  legs
  glutes
  arms
  shoulders
  core
  full_body
}

enum Equipment {
  bodyweight
  treadmill
  dumbbells
  kettlebells
  barbell
  bench
  cable_machines
  any
}

// Exercise model - reusable exercises library
model Exercise {
  id                    Int      @id @default(autoincrement())
  name                  String   @unique
  description           String?
  muscleGroup           String
  equipment             String?
  difficulty            String
  category              String
  instructions          String?
  imageUrl              String?
  isCompound            Boolean  @default(false)
  estimatedTimeInMinutes Int     @default(3)
  tips                  String[]  @default([])
  createdAt             DateTime @default(now())
}

// Workout model - stores full generated workouts
model Workout {
  id         Int          @id @default(autoincrement())
  name       String
  duration   Int          // in minutes
  goal       Goal
  focus      Focus[]      // ✅ multiple body parts
  experience Experience
  equipment  Equipment[]  // ✅ multiple equipment options
  exercises  Json
  createdAt  DateTime     @default(now())
}